# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

![image](https://github.com/user-attachments/assets/319759c7-f830-4d31-87ce-a2169eda0614)

### üîß –°–µ—Ä–≤–∏—Å—ã:
#### postgres
-- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- –û–±—Ä–∞–∑: postgres:15
- –û—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç: 5432
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
POSTGRES_USER, POSTGRES_PASSWORD, POSTGRES_DB ‚Äî –∏–∑ .env
- –¢–æ–º–∞:
pg_data ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
postgres.conf –∏ pg_hba.conf ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ –¥–ª—è —Ö–æ—Å—Ç–∞ –ë–î
–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏: restart: always

#### redis
-- –ö–µ—à

- –û–±—Ä–∞–∑: redis:7
- –û—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç: 6379
- –ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫: always

#### telegram-bot
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –±–æ—Ç, –æ–±–º–µ–Ω–∏–≤–∞—é—â–∏–π—Å—è –¥–∞–Ω–Ω—ã–º–∏ —Å PostgreSQL/Redis

- –°–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑: ./bot/
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç .env
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: postgres, redis
- –ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫: always

#### airflow-init
-- –û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Airflow:

- –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î
- –°–æ–∑–¥–∞–Ω–∏–µ admin-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ DAG-–æ–≤
- Dockerfile: ./airflow/airflow.Dockerfile
- –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: entrypoint.sh
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è: –∫ –ë–î PostgreSQL
- –ú–æ–Ω—Ç–∏—Ä—É–µ–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
DAG-–∏ ‚Üí /opt/airflow/dags
–°–∫—Ä–∏–ø—Ç—ã ‚Üí /opt/airflow/scripts
.env ‚Üí –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: postgres

#### airflow-webserver
-- UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Airflow

- –ü–æ—Ä—Ç: 8080
- –ö–æ–º–∞–Ω–¥–∞: webserver
- –ú–æ–Ω—Ç–∏—Ä—É–µ—Ç —Ç–µ –∂–µ –ø–∞–ø–∫–∏, —á—Ç–æ –∏ init
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: airflow-init

#### airflow-scheduler
-- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á Airflow

- –ö–æ–º–∞–Ω–¥–∞: scheduler
- –¢–µ –∂–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç: airflow-init
